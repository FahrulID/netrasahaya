<launch>
    <arg name="using_rosbag" default="true"/>
    <arg name="rviz" default="true"/>
    <arg name="localization" default="true"/>

    <arg     if="$(arg localization)" name="pre_args" default=""/>
    <arg unless="$(arg localization)" name="pre_args" default="--delete_db_on_start"/>

    <group if="$(arg using_rosbag)">
        <param name="use_sim_time" value="true"/>
        <node pkg="rosbag" type="play" name="player" output="screen" args="--clock /home/fahrul/netrasahaya/catkin_ws/dataset3.bag"/>
    </group>

    <include file="$(find occupancy)/launch/occupancy.launch"></include>

    <include file="$(find netrasahaya)/launch/rtabmap.launch">
        <arg name="pre_args" value="$(arg pre_args)"/>
        <arg name="localization" value="$(arg localization)"/>
    </include>
    
    <include file="$(find netrasahaya)/launch/move_base.launch"></include>
    
    <include file="$(find netrasahaya)/launch/rviz.launch">
        <arg name="rviz" value="$(arg rviz)"/>
    </include>
</launch>